## Development

- SDK is autogenerated from OpenAPI definitions
- There are few tools required for this autogen workflow to work.
    1. [openapi-generator-cli](https://github.com/OpenAPITools/openapi-generator-cli) -- used to generate code and doc
    2. [redocly/cli](https://github.com/Redocly/redocly-cli) -- validate definitions

## Prerequisites

- Toolchains are as follows.

```
node -v
v20.19.4

npm install

npx openapi-generator-cli help
npx redocly lint --help

docker --version
Docker version 28.3.2, build 578ccf6
```

## AutoGen Workflow

- Setup virtual environment and activate it

- Install dev dependencies
```commandline
make install
```

- API mock server `prism` is set up through docker compose as follows.
- To bring up _mock_ API
```commandline
make up
```

- To run tests suites
```commandline
make unit
make autounit
```

- To run full suite, smoke test
```commandline
make test
```

```
make ps
make test_icav2_mock
docker compose logs
```
- All the autogen config and arrangement refer to [`Makefile`](https://github.com/umccr/libica/blob/main/Makefile) targets.

## Generator Version

- See generator [version compatibility](https://github.com/OpenAPITools/openapi-generator#11---compatibility)
- Select generator version as follows:

```
npx openapi-generator-cli version-manager list
```
